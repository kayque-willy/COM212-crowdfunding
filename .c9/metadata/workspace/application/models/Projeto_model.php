{"changed":true,"filter":false,"title":"Projeto_model.php","tooltip":"/application/models/Projeto_model.php","value":"<?php\nclass Projeto_model extends CI_Model{\n \n  public $codigo;\n  public $nome;\n  public $imagem;\n  public $video;\n  public $descricao;\n  public $categoria;\n  public $duracao;\n  public $valor;\n  public $status;\n  public $prazoMaximo;\n  public $valorMaximo;\n  public $valorMinimo;\n    \n  #constroi o objeto\n  public function __construct($codigo='', $nome='',$categoria='',$duracao='',$valor='',$status='',$descricao='',$video='',$imagem='',$prazoMaximo='',$valorMaximo='',$valorMinimo=''){\n     if(isset($codigo)) $this->codigo=$codigo;\n     if(isset($nome)) $this->nome=$nome;\n     if(isset($categoria)) $this->categoria=$categoria;\n     if(isset($duracao)) $this->duracao=$duracao;\n     if(isset($valor)) $this->valor=$valor;\n     if(isset($status)) $this->status=$status;\n     if(isset($descricao)) $this->descricao=$descricao;\n     if(isset($video)) $this->video=$video;\n     if(isset($imagem['full_path'])) $this->imagem = file_get_contents($imagem['full_path']);\n     if(isset($prazoMaximo)) $this->prazoMaximo=$prazoMaximo;\n     if(isset($valorMaximo)) $this->valorMaximo=$valorMaximo;\n     if(isset($valorMinimo)) $this->valorMinimo=$valorMinimo;\n  }\n  \n  #insere um novo registro no banco\n  public function insert(){\n    //Cria um vetor de valores para atualização\n     $data = [];\n     if(isset($this->codigo)) $data['codigo'] = $this->codigo;\n     if(isset($this->nome)) $data['nome'] = $this->nome;\n     if(isset($this->categoria)) $data['categoria'] = $this->categoria;\n     if(isset($this->duracao)) $data['duracao'] = $this->duracao;\n     if(isset($this->valor)) $data['valor'] = $this->valor;\n     if(isset($this->status)) $data['status'] = $this->status;\n     if(isset($this->descricao)) $data['descricao'] = $this->descricao;\n     if(isset($this->video)) $data['video'] = $this->video;\n     if(isset($this->imagem)) $data['imagem'] = $this->imagem;\n     if(isset($prazoMaximo)) $data['prazoMaximo']=$this->prazoMaximo;\n     if(isset($valorMaximo)) $data['valorMaximo']=$this->valorMaximo;\n     if(isset($valorMinimo)) $data['valorMinimo']=$this->valorMinimo;\n     return $this->db->insert('projeto',$data);\n }\n  \n  #Remove um objeto de acordo com o nome\n  public function remove () {\n    $data = [];\n    if(isset($this->codigo)) $data['codigo'] = $this->codigo;\n    return $this->db->delete('projeto',$data);\n  }\n \n  #Atualiza o objeto a partir da chave primaria\n  public function update ($codigo='') {\n     //Cria um vetor de valores para atualização\n     $data = [];\n     if(isset($this->nome)) $data['nome'] = $this->nome;\n     if(isset($this->categoria)) $data['categoria'] = $this->categoria;\n     if(isset($this->duracao)) $data['duracao'] = $this->duracao;\n     if(isset($this->valor)) $data['valor'] = $this->valor;\n     if(isset($this->status)) $data['status'] = $this->status;\n     if(isset($this->descricao)) $data['descricao'] = $this->descricao;\n     if(isset($this->video)) $data['video'] = $this->video;\n     if(isset($this->imagem)) $data['imagem'] = $this->imagem;\n     if(isset($prazoMaximo)) $data['prazoMaximo']=$this->prazoMaximo;\n     if(isset($valorMaximo)) $data['valorMaximo']=$this->valorMaximo;\n     if(isset($valorMinimo)) $data['valorMinimo']=$this->valorMinimo;\n     \n     //Cria um vetor com a chave primária \n     $where['codigo']=$codigo;\n     \n     //$this->db->update(nome da tabela,valores de atualização,referência)\n     return $this->db->update('projeto',$data,$where);\n  }\n  \n  #Retorna o objeto\n  public function select($filtro='') {\n   //Adiciona clausula where\n   if(!empty($filtro['codigo'])) $this->db->where('codigo', $filtro['codigo']);\n   if(!empty($filtro['nome'])) $this->db->where('nome', $filtro['nome']);\n   if(!empty($filtro['categoria'])) $this->db->where('categoria', $filtro['categoria']);\n   if(!empty($filtro['status'])) $this->db->where('status', $filtro['status']);\n   if(!empty($filtro['prazoMaximo'])) $this->db->where('prazoMaximo', $filtro['prazoMaximo']);\n   if(!empty($filtro['valorMaximo'])) $this->db->where('valorMaximo', $filtro['valorMaximo']);\n   if(!empty($filtro['valorMinimo'])) $this->db->where('valorMinimo', $filtro['valorMinimo']);\n   return $this->db->get('projeto');\n  }\n  \n}","undoManager":{"mark":100,"position":100,"stack":[[{"start":{"row":17,"column":151},"end":{"row":17,"column":152},"action":"remove","lines":["a"],"id":162}],[{"start":{"row":17,"column":151},"end":{"row":17,"column":152},"action":"insert","lines":["a"],"id":163}],[{"start":{"row":17,"column":152},"end":{"row":17,"column":153},"action":"insert","lines":["l"],"id":164}],[{"start":{"row":17,"column":153},"end":{"row":17,"column":154},"action":"insert","lines":["o"],"id":165}],[{"start":{"row":17,"column":154},"end":{"row":17,"column":155},"action":"insert","lines":["r"],"id":166}],[{"start":{"row":17,"column":155},"end":{"row":17,"column":156},"action":"insert","lines":["m"],"id":167}],[{"start":{"row":17,"column":155},"end":{"row":17,"column":156},"action":"remove","lines":["m"],"id":168}],[{"start":{"row":17,"column":155},"end":{"row":17,"column":156},"action":"insert","lines":["M"],"id":169}],[{"start":{"row":17,"column":149},"end":{"row":17,"column":156},"action":"remove","lines":["$valorM"],"id":170},{"start":{"row":17,"column":149},"end":{"row":17,"column":161},"action":"insert","lines":["$valorMaximo"]}],[{"start":{"row":17,"column":161},"end":{"row":17,"column":162},"action":"insert","lines":["="],"id":171}],[{"start":{"row":17,"column":162},"end":{"row":17,"column":164},"action":"insert","lines":["''"],"id":172}],[{"start":{"row":17,"column":164},"end":{"row":17,"column":165},"action":"insert","lines":[","],"id":173}],[{"start":{"row":17,"column":165},"end":{"row":17,"column":166},"action":"insert","lines":["$"],"id":174}],[{"start":{"row":17,"column":166},"end":{"row":17,"column":167},"action":"insert","lines":["v"],"id":175}],[{"start":{"row":17,"column":167},"end":{"row":17,"column":168},"action":"insert","lines":["a"],"id":176}],[{"start":{"row":17,"column":168},"end":{"row":17,"column":169},"action":"insert","lines":["l"],"id":177}],[{"start":{"row":17,"column":169},"end":{"row":17,"column":170},"action":"insert","lines":["o"],"id":178}],[{"start":{"row":17,"column":170},"end":{"row":17,"column":171},"action":"insert","lines":["r"],"id":179}],[{"start":{"row":17,"column":171},"end":{"row":17,"column":172},"action":"insert","lines":["M"],"id":180}],[{"start":{"row":17,"column":172},"end":{"row":17,"column":173},"action":"insert","lines":["i"],"id":181}],[{"start":{"row":17,"column":173},"end":{"row":17,"column":174},"action":"insert","lines":["n"],"id":182}],[{"start":{"row":17,"column":174},"end":{"row":17,"column":175},"action":"insert","lines":["i"],"id":183}],[{"start":{"row":17,"column":175},"end":{"row":17,"column":176},"action":"insert","lines":["m"],"id":184}],[{"start":{"row":17,"column":176},"end":{"row":17,"column":177},"action":"insert","lines":["o"],"id":185}],[{"start":{"row":17,"column":177},"end":{"row":17,"column":178},"action":"insert","lines":["="],"id":186}],[{"start":{"row":17,"column":178},"end":{"row":17,"column":180},"action":"insert","lines":["''"],"id":187}],[{"start":{"row":45,"column":5},"end":{"row":46,"column":0},"action":"insert","lines":["",""],"id":188},{"start":{"row":46,"column":0},"end":{"row":46,"column":5},"action":"insert","lines":["     "]}],[{"start":{"row":46,"column":5},"end":{"row":47,"column":0},"action":"insert","lines":["",""],"id":189},{"start":{"row":47,"column":0},"end":{"row":47,"column":5},"action":"insert","lines":["     "]}],[{"start":{"row":45,"column":5},"end":{"row":47,"column":61},"action":"insert","lines":[" if(isset($prazoMaximo)) $this->prazoMaximo=$prazoMaximo;","     if(isset($valorMaximo)) $this->valorMaximo=$valorMaximo;","     if(isset($valorMinimo)) $this->valorMinimo=$valorMinimo;"],"id":190}],[{"start":{"row":45,"column":5},"end":{"row":45,"column":6},"action":"remove","lines":[" "],"id":191}],[{"start":{"row":48,"column":4},"end":{"row":48,"column":5},"action":"remove","lines":[" "],"id":192}],[{"start":{"row":45,"column":29},"end":{"row":45,"column":47},"action":"remove","lines":["$this->prazoMaximo"],"id":193},{"start":{"row":45,"column":29},"end":{"row":45,"column":44},"action":"insert","lines":["$data['imagem']"]}],[{"start":{"row":46,"column":29},"end":{"row":46,"column":47},"action":"remove","lines":["$this->valorMaximo"],"id":194},{"start":{"row":46,"column":29},"end":{"row":46,"column":44},"action":"insert","lines":["$data['imagem']"]}],[{"start":{"row":47,"column":29},"end":{"row":47,"column":47},"action":"remove","lines":["$this->valorMinimo"],"id":195},{"start":{"row":47,"column":29},"end":{"row":47,"column":44},"action":"insert","lines":["$data['imagem']"]}],[{"start":{"row":45,"column":36},"end":{"row":45,"column":42},"action":"remove","lines":["imagem"],"id":196},{"start":{"row":45,"column":36},"end":{"row":45,"column":48},"action":"insert","lines":["$prazoMaximo"]}],[{"start":{"row":46,"column":36},"end":{"row":46,"column":42},"action":"remove","lines":["imagem"],"id":197},{"start":{"row":46,"column":36},"end":{"row":46,"column":48},"action":"insert","lines":["$valorMaximo"]}],[{"start":{"row":47,"column":36},"end":{"row":47,"column":42},"action":"remove","lines":["imagem"],"id":198},{"start":{"row":47,"column":36},"end":{"row":47,"column":48},"action":"insert","lines":["$valorMinimo"]}],[{"start":{"row":47,"column":36},"end":{"row":47,"column":37},"action":"remove","lines":["$"],"id":199}],[{"start":{"row":46,"column":36},"end":{"row":46,"column":37},"action":"remove","lines":["$"],"id":200}],[{"start":{"row":45,"column":36},"end":{"row":45,"column":37},"action":"remove","lines":["$"],"id":201}],[{"start":{"row":48,"column":0},"end":{"row":48,"column":4},"action":"remove","lines":["    "],"id":202}],[{"start":{"row":47,"column":63},"end":{"row":48,"column":0},"action":"remove","lines":["",""],"id":203}],[{"start":{"row":70,"column":5},"end":{"row":71,"column":0},"action":"insert","lines":["",""],"id":204},{"start":{"row":71,"column":0},"end":{"row":71,"column":5},"action":"insert","lines":["     "]}],[{"start":{"row":71,"column":5},"end":{"row":72,"column":0},"action":"insert","lines":["",""],"id":205},{"start":{"row":72,"column":0},"end":{"row":72,"column":5},"action":"insert","lines":["     "]}],[{"start":{"row":72,"column":5},"end":{"row":73,"column":0},"action":"insert","lines":["",""],"id":206},{"start":{"row":73,"column":0},"end":{"row":73,"column":5},"action":"insert","lines":["     "]}],[{"start":{"row":70,"column":5},"end":{"row":72,"column":63},"action":"insert","lines":["if(isset($prazoMaximo)) $data['prazoMaximo']=$prazoMaximo;","     if(isset($valorMaximo)) $data['valorMaximo']=$valorMaximo;","     if(isset($valorMinimo)) $data['valorMinimo']=$valorMinimo;"],"id":207}],[{"start":{"row":45,"column":51},"end":{"row":45,"column":57},"action":"insert","lines":["this->"],"id":208}],[{"start":{"row":46,"column":51},"end":{"row":46,"column":57},"action":"insert","lines":["this->"],"id":209}],[{"start":{"row":47,"column":51},"end":{"row":47,"column":57},"action":"insert","lines":["this->"],"id":210}],[{"start":{"row":70,"column":51},"end":{"row":70,"column":57},"action":"insert","lines":["this->"],"id":211}],[{"start":{"row":71,"column":51},"end":{"row":71,"column":57},"action":"insert","lines":["this->"],"id":212}],[{"start":{"row":72,"column":51},"end":{"row":72,"column":57},"action":"insert","lines":["this->"],"id":213}],[{"start":{"row":75,"column":4},"end":{"row":75,"column":5},"action":"remove","lines":[" "],"id":214}],[{"start":{"row":75,"column":0},"end":{"row":75,"column":4},"action":"remove","lines":["    "],"id":215}],[{"start":{"row":74,"column":5},"end":{"row":75,"column":0},"action":"remove","lines":["",""],"id":216}],[{"start":{"row":74,"column":4},"end":{"row":74,"column":5},"action":"remove","lines":[" "],"id":217}],[{"start":{"row":74,"column":0},"end":{"row":74,"column":4},"action":"remove","lines":["    "],"id":218}],[{"start":{"row":73,"column":5},"end":{"row":74,"column":0},"action":"remove","lines":["",""],"id":219}],[{"start":{"row":87,"column":79},"end":{"row":88,"column":0},"action":"insert","lines":["",""],"id":220},{"start":{"row":88,"column":0},"end":{"row":88,"column":3},"action":"insert","lines":["   "]}],[{"start":{"row":88,"column":3},"end":{"row":89,"column":0},"action":"insert","lines":["",""],"id":221},{"start":{"row":89,"column":0},"end":{"row":89,"column":3},"action":"insert","lines":["   "]}],[{"start":{"row":89,"column":3},"end":{"row":90,"column":0},"action":"insert","lines":["",""],"id":222},{"start":{"row":90,"column":0},"end":{"row":90,"column":3},"action":"insert","lines":["   "]}],[{"start":{"row":88,"column":3},"end":{"row":88,"column":80},"action":"insert","lines":[" if(!empty($filtro['status'])) $this->db->where('status', $filtro['status']);"],"id":223}],[{"start":{"row":88,"column":0},"end":{"row":88,"column":4},"action":"remove","lines":["    "],"id":224}],[{"start":{"row":88,"column":0},"end":{"row":88,"column":1},"action":"insert","lines":[" "],"id":225}],[{"start":{"row":88,"column":1},"end":{"row":88,"column":2},"action":"insert","lines":[" "],"id":226}],[{"start":{"row":88,"column":2},"end":{"row":88,"column":3},"action":"insert","lines":[" "],"id":227}],[{"start":{"row":88,"column":22},"end":{"row":88,"column":28},"action":"remove","lines":["status"],"id":228},{"start":{"row":88,"column":22},"end":{"row":88,"column":33},"action":"insert","lines":["prazoMaximo"]}],[{"start":{"row":88,"column":56},"end":{"row":88,"column":62},"action":"remove","lines":["status"],"id":229},{"start":{"row":88,"column":56},"end":{"row":88,"column":67},"action":"insert","lines":["prazoMaximo"]}],[{"start":{"row":88,"column":79},"end":{"row":88,"column":85},"action":"remove","lines":["status"],"id":230},{"start":{"row":88,"column":79},"end":{"row":88,"column":90},"action":"insert","lines":["prazoMaximo"]}],[{"start":{"row":89,"column":3},"end":{"row":90,"column":3},"action":"insert","lines":["if(!empty($filtro['prazoMaximo'])) $this->db->where('prazoMaximo', $filtro['prazoMaximo']);","   "],"id":231}],[{"start":{"row":90,"column":3},"end":{"row":91,"column":0},"action":"insert","lines":["",""],"id":232},{"start":{"row":91,"column":0},"end":{"row":91,"column":3},"action":"insert","lines":["   "]}],[{"start":{"row":91,"column":3},"end":{"row":92,"column":3},"action":"insert","lines":["if(!empty($filtro['prazoMaximo'])) $this->db->where('prazoMaximo', $filtro['prazoMaximo']);","   "],"id":233}],[{"start":{"row":90,"column":2},"end":{"row":90,"column":3},"action":"remove","lines":[" "],"id":234}],[{"start":{"row":90,"column":1},"end":{"row":90,"column":2},"action":"remove","lines":[" "],"id":235}],[{"start":{"row":90,"column":0},"end":{"row":90,"column":1},"action":"remove","lines":[" "],"id":236}],[{"start":{"row":89,"column":94},"end":{"row":90,"column":0},"action":"remove","lines":["",""],"id":237}],[{"start":{"row":92,"column":2},"end":{"row":92,"column":3},"action":"remove","lines":[" "],"id":238}],[{"start":{"row":92,"column":1},"end":{"row":92,"column":2},"action":"remove","lines":[" "],"id":239}],[{"start":{"row":92,"column":0},"end":{"row":92,"column":1},"action":"remove","lines":[" "],"id":240}],[{"start":{"row":91,"column":3},"end":{"row":92,"column":0},"action":"remove","lines":["",""],"id":241}],[{"start":{"row":89,"column":22},"end":{"row":89,"column":33},"action":"remove","lines":["prazoMaximo"],"id":242},{"start":{"row":89,"column":22},"end":{"row":89,"column":33},"action":"insert","lines":["valorMaximo"]}],[{"start":{"row":89,"column":56},"end":{"row":89,"column":67},"action":"remove","lines":["prazoMaximo"],"id":243},{"start":{"row":89,"column":56},"end":{"row":89,"column":67},"action":"insert","lines":["valorMaximo"]}],[{"start":{"row":89,"column":79},"end":{"row":89,"column":90},"action":"remove","lines":["prazoMaximo"],"id":244},{"start":{"row":89,"column":79},"end":{"row":89,"column":90},"action":"insert","lines":["valorMaximo"]}],[{"start":{"row":90,"column":22},"end":{"row":90,"column":33},"action":"remove","lines":["prazoMaximo"],"id":245},{"start":{"row":90,"column":22},"end":{"row":90,"column":33},"action":"insert","lines":["valorMinimo"]}],[{"start":{"row":90,"column":56},"end":{"row":90,"column":67},"action":"remove","lines":["prazoMaximo"],"id":246},{"start":{"row":90,"column":56},"end":{"row":90,"column":67},"action":"insert","lines":["valorMinimo"]}],[{"start":{"row":90,"column":79},"end":{"row":90,"column":90},"action":"remove","lines":["prazoMaximo"],"id":247},{"start":{"row":90,"column":79},"end":{"row":90,"column":90},"action":"insert","lines":["valorMinimo"]}],[{"start":{"row":91,"column":2},"end":{"row":91,"column":3},"action":"remove","lines":[" "],"id":248}],[{"start":{"row":91,"column":1},"end":{"row":91,"column":2},"action":"remove","lines":[" "],"id":249}],[{"start":{"row":91,"column":0},"end":{"row":91,"column":1},"action":"remove","lines":[" "],"id":250}],[{"start":{"row":90,"column":94},"end":{"row":91,"column":0},"action":"remove","lines":["",""],"id":251}],[{"start":{"row":92,"column":3},"end":{"row":93,"column":0},"action":"insert","lines":["",""],"id":252},{"start":{"row":93,"column":0},"end":{"row":93,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":94,"column":1},"end":{"row":95,"column":0},"action":"remove","lines":["",""],"id":253}],[{"start":{"row":14,"column":21},"end":{"row":14,"column":22},"action":"insert","lines":["="],"id":254}],[{"start":{"row":14,"column":22},"end":{"row":14,"column":24},"action":"insert","lines":["''"],"id":255}],[{"start":{"row":14,"column":23},"end":{"row":14,"column":24},"action":"insert","lines":["1"],"id":256}],[{"start":{"row":14,"column":24},"end":{"row":14,"column":25},"action":"insert","lines":["0"],"id":257}],[{"start":{"row":14,"column":25},"end":{"row":14,"column":26},"action":"remove","lines":["'"],"id":258}],[{"start":{"row":14,"column":24},"end":{"row":14,"column":25},"action":"remove","lines":["0"],"id":259}],[{"start":{"row":14,"column":23},"end":{"row":14,"column":24},"action":"remove","lines":["1"],"id":260}],[{"start":{"row":14,"column":22},"end":{"row":14,"column":23},"action":"remove","lines":["'"],"id":261}],[{"start":{"row":14,"column":21},"end":{"row":14,"column":22},"action":"remove","lines":["="],"id":262}],[{"start":{"row":57,"column":0},"end":{"row":58,"column":0},"action":"remove","lines":[" ",""],"id":263}]]},"ace":{"folds":[{"start":{"row":17,"column":182},"end":{"row":30,"column":2},"placeholder":"..."},{"start":{"row":33,"column":27},"end":{"row":49,"column":1},"placeholder":"..."},{"start":{"row":52,"column":29},"end":{"row":56,"column":2},"placeholder":"..."},{"start":{"row":59,"column":39},"end":{"row":79,"column":2},"placeholder":"..."},{"start":{"row":82,"column":38},"end":{"row":92,"column":2},"placeholder":"..."}],"scrolltop":60,"scrollleft":0,"selection":{"start":{"row":14,"column":9},"end":{"row":14,"column":21},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":3,"state":"php-start","mode":"ace/mode/php"}},"timestamp":1478910307049}